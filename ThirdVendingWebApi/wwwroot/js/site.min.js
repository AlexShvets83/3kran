function logout(){sessionStorage.removeItem(tokenKey);sessionStorage.removeItem(accountKey);window.location.replace("/Account/Login")}function GetURLParameter(n){for(var i,u=window.location.search.substring(1),r=u.split("&"),t=0;t<r.length;t++)if(i=r[t].split("="),i[0]==n)return i[1]}function checkInvite(){}function getUserName(n){return n==null?null:n.firstName+" "+n.lastName}function redirectHandler(n,t){switch(n){case 1:window.location=t}}async function getUserAccount(){const t=sessionStorage.getItem(tokenKey),n=await fetch("/api/account",{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+t}});if(n.ok===!0){const t=await n.json();sessionStorage.setItem(accountKey,JSON.stringify(t))}else console.log("Status: ",n.status)}function post(n,t,i){var r,f,u;i=i||"post";r=document.createElement("form");r.setAttribute("method",i);r.setAttribute("action",n);for(f in t)t.hasOwnProperty(f)&&(u=document.createElement("input"),u.setAttribute("type","hidden"),u.setAttribute("name",f),u.setAttribute("value",t[f]),r.appendChild(u));document.body.appendChild(r);r.submit()}function getAccount(){var n=$.getJSON("/api/account",null);n.done(function(n){sessionStorage.setItem(accountKey,JSON.stringify(n))})}function postAjax(n,t,i){return jQuery.ajax({headers:{Accept:"application/json","Content-Type":"application/json"},accepts:{json:"application/json"},contentType:"application/json",type:"POST",url:n,data:JSON.stringify(t),dataType:"json",success:i})}function httpGetAsync(n,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===4&&i.status===200&&t(i.responseText)};i.open("GET",n,!0);i.send(null)}function httpGet(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.send(null),t.responseText}function setCookie(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+";"+u+";path=/"}function getCookie(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null}function check_capslock(n){var t=String.fromCharCode(n.keyCode);t.toUpperCase()!==t||t.toLowerCase()===t||n.shiftKey?$("#capsLock").hide():$("#capsLock").show()}function check_capslock_form(n){n||(n=$(document));n.find("input,select,div").each(function(){this.type!=="hidden"&&$(this).keypress(check_capslock)})}function getCurrencySign(n){switch(n.currency){case"RUB":return`&#x20BD;`;case"KZT":return"&#x20B8;";case"AZN":return"&#x20BC;";case"UZS":return"сўм";case"BYR":return"Br";default:return""}}function getNornRole(n){switch(n){case"technician":return"Техник";case"owner":return"Владелец";case"dealer_admin":return"Адм. дилера";case"dealer":return"Дилер";case"admin":return"Админ";default:return""}}var isStart=!0,tokenKey="accessToken",accountKey="userAccount",checkEmail,checkPhone;$.getJSON=function(n,t){var i=sessionStorage.getItem(tokenKey);return jQuery.ajax({headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i},type:"GET",url:n,dataType:"json",success:t})};$.postJSON=function(n,t,i){var r=sessionStorage.getItem(tokenKey);return jQuery.ajax({headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${r}`},type:"POST",url:n,data:JSON.stringify(t),dataType:"json",success:i})};$.putJSON=function(n,t,i){var r=sessionStorage.getItem(tokenKey);return jQuery.ajax({headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${r}`},type:"PUT",url:n,data:JSON.stringify(t),dataType:"json",success:i})};$.deleteObj=function(n){var t=sessionStorage.getItem(tokenKey);return jQuery.ajax({headers:{Authorization:`Bearer ${t}`},type:"DELETE",url:n})};checkEmail=function(n){const t=$.get("/api/validation/email/"+n);return t.promise()};checkPhone=function(n){const t=n.replace("+","%2B"),i=$.get("/api/validation?phone="+t);return i.promise()};document.onkeydown=function(n){n=n||event;n.keyCode===20&&(window.capsLockEnabled=!window.capsLockEnabled,$("#capsLock").toggle())};