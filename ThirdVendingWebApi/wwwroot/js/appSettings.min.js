function initAppSettings(){var n=document.getElementById("appSettingsFormErrors");n.style.display="none";$.getJSON("/api/appSettings",null).then(function(n){$("#appSettingsForm").dxForm({formData:n,showColonAfterLabel:!0,labelLocation:"left",items:[{dataField:"userLogDepth",editorType:"dxNumberBox",label:{text:"Глубина журнала, дни"},editorOptions:{mode:"number",min:10,max:365}},{dataField:"supportBoard1",editorType:"dxCheckBox",label:{text:"Поддержка плат версии 1"}},{dataField:"supportBoard2",editorType:"dxCheckBox",label:{text:"Поддержка плат версии 2"}},{dataField:"supportBoard3",editorType:"dxCheckBox",label:{text:"Поддержка плат версии 3"}},{dataField:"fileMaxUploadLenght",editorType:"dxNumberBox",label:{text:"Максимальный размер файла для загрузки, Мб"},editorOptions:{mode:"number",min:10,max:1e3}},{dataField:"usersMaxDownloads",editorType:"dxNumberBox",label:{text:"Максимальное кол-во одновременных скачиваний"},editorOptions:{mode:"number",min:5,max:1e3}}]}).dxForm("instance")})}function sendAppSettings(){const t=$("#appSettingsForm").dxForm("instance"),i=t.validate();var n=document.getElementById("appSettingsFormErrors");if(n.style.display="none",i&&i.isValid){const r=t.option("formData");$.postJSON(`/api/appSettings`,r,null).then(function(){$("#appSetingsPopup").modal("hide");getFiles()},function(t){if(t.readyState===4&&t.status===200)$("#appSetingsPopup").modal("hide"),getFiles();else{const i=t.responseText?t.responseText:`Error${t.status}`;n.innerHTML=`<i class="fa fa-warning" aria-hidden="true"></i>&nbsp;&nbsp;${i}`;n.style.display="block"}})}}