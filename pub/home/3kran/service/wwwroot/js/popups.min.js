function datePickerInite(){$("#dateRangePicker").daterangepicker({showDropdowns:!0,alwaysShowCalendars:!0,autoUpdateInput:!0,opens:"left",ranges:{"Сегодня":[moment(),moment().add(1,"days")],"Вчера":[moment().subtract(1,"days"),moment()],"Последние 7 дней":[moment().subtract(6,"days"),moment().add(1,"days")],"Последние 30 дней":[moment().subtract(29,"days"),moment().add(1,"days")],"Этот месяц":[moment().startOf("month"),moment().endOf("month")],"Последний месяц":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},locale:{format:"DD.MM.YYYY",separator:" - ",applyLabel:"Применить",cancelLabel:"Отмена",fromLabel:"От",toLabel:"До",customRangeLabel:"Пользовательский",weekLabel:"Неделя",daysOfWeek:["Пн.","Вт.","Ср.","Чт.","Пт.","Сб.","Вс."],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],firstDay:1},endDate:moment().add(1,"days"),startDate:moment().subtract(6,"days")});$("#dateRangePicker").on("apply.daterangepicker",function(n,t){const i=document.getElementById("popupTitle").innerHTML;~i.indexOf("Продажи")&&getSalesByPeriod(t.startDate,t.endDate);~i.indexOf("Инкассации")&&getEncashByPeriod(t.startDate,t.endDate);~i.indexOf("Аварии")&&getAlertsByPeriod(t.startDate,t.endDate)})}function popupSales(){const n=document.getElementById("popupTitle");n.innerHTML='<i class="fa fa-shopping-cart text-warning"><\/i>&nbsp;&nbsp;Продажи за период';$("#alertsPopup").modal("toggle");var r=$("#tooltipContainer").dxTooltip({position:"right"}).dxTooltip("instance");$("#gridAlerts").dxDataGrid({scrolling:{mode:"infinite"},showRowLines:!0,keyExpr:"messageDate",columnAutoWidth:!1,columnFixing:{enabled:!1},cellHintEnabled:!0,showBorders:!0,wordWrapEnabled:!1,selection:{mode:"none"},height:function(){return window.innerHeight/1.8},headerFilter:{visible:!0},hoverStateEnabled:!0,rowAlternationEnabled:!0,loadPanel:{enabled:!0},onCellPrepared:function(n){var t="";const i=n.column;if(n.rowType==="data"&&i.dataField==="paymentType"){const i=n.data;switch(i.paymentType){case 0:t='<i class="fa fa-money text-success"><\/i>';break;case 1:t='<i class="fa fa-credit-card text-warning"><\/i>';break;case-1:t='<i class="fa fa-cloud-upload text-danger"><\/i>'}n.cellElement.html(t)}},columns:[{width:"8%",alignment:"center",dataField:"paymentType",allowSorting:!1,allowHeaderFiltering:!0,caption:"",headerFilter:{dataSource:[{text:"За наличные",value:["paymentType","=",0],template:function(){return'<i class="fa fa-money text-success" aria-hidden="true"><\/i>&nbsp;За наличные'}},{text:"По карте",value:["paymentType","=",1],template:function(){return'<i class="fa fa-credit-card text-warning" aria-hidden="true"><\/i>&nbsp;По карте'}},{text:"Пополнение карты",value:["paymentType","=",-1],template:function(){return'<i class="fa fa-cloud-upload text-danger" aria-hidden="true"><\/i>&nbsp;Пополнение карты'}}]}},{width:"19%",allowSorting:!1,allowHeaderFiltering:!1,dataField:"messageDate",caption:"Время",dataType:"date",format:"dd.MM HH:mm",headerCellTemplate:function(n,t){setHeader(n,t)}},{width:"14%",alignment:"right",allowSorting:!1,allowHeaderFiltering:!1,dataField:"amountCash",caption:"Налич.",format:{type:"fixedPoint",precision:2},headerCellTemplate:function(n,t){setHeader(n,t)}},{width:"14%",alignment:"right",allowSorting:!1,allowHeaderFiltering:!1,dataField:"amountBill",caption:"Купюр",format:{type:"fixedPoint",precision:2},headerCellTemplate:function(n,t){setHeader(n,t)}},{width:"14%",alignment:"right",allowSorting:!1,allowHeaderFiltering:!1,dataField:"amountCoin",caption:"Монет",format:{type:"fixedPoint",precision:2},headerCellTemplate:function(n,t){setHeader(n,t)}},{width:"14%",alignment:"right",allowSorting:!1,allowHeaderFiltering:!1,dataField:"amountCard",caption:"Картой",format:{type:"fixedPoint",precision:2},headerCellTemplate:function(n,t){setHeader(n,t)}},{width:"15%",alignment:"right",allowSorting:!1,allowHeaderFiltering:!1,dataField:"quantity",caption:"Продано",format:{type:"fixedPoint",precision:2},headerCellTemplate:function(n,t){setHeader(n,t)}}],summary:{totalItems:[{column:"messageDate",summaryType:"count",customizeText:function(n){return`Зап: ${n.value}`}},{column:"amountCash",summaryType:"sum",displayFormat:"{0}",valueFormat:{type:"fixedPoint",precision:2}},{column:"amountBill",summaryType:"sum",displayFormat:"{0}",valueFormat:{type:"fixedPoint",precision:2}},{column:"amountCoin",summaryType:"sum",displayFormat:"{0}",valueFormat:{type:"fixedPoint",precision:2}},{column:"amountCard",summaryType:"sum",displayFormat:"{0}",valueFormat:{type:"fixedPoint",precision:2}},{column:"quantity",summaryType:"sum",displayFormat:"{0}",valueFormat:{type:"fixedPoint",precision:2}}]}});const t=$("#dateRangePicker").data("daterangepicker").startDate,i=$("#dateRangePicker").data("daterangepicker").endDate;getSalesByPeriod(t,i)}function getSalesByPeriod(n,t){$.getJSON(`/api/sales/info?deviceId=${device.id}&from=${n.format("YYYY-MM-DD")}&to=${t.format("YYYY-MM-DD")}`,null).then(function(n){$("#gridAlerts").dxDataGrid("instance").option("dataSource",n)})}function popupEncash(){const n=document.getElementById("popupTitle");n.innerHTML='<i class="fa fa-truck text-warning"><\/i>&nbsp;&nbsp;Инкассации за период';$("#alertsPopup").modal("toggle");$("#gridAlerts").dxDataGrid({scrolling:{mode:"infinite"},showRowLines:!0,keyExpr:"messageDate",columnAutoWidth:!1,columnFixing:{enabled:!1},cellHintEnabled:!0,showBorders:!0,wordWrapEnabled:!1,selection:{mode:"none"},height:function(){return window.innerHeight/1.8},hoverStateEnabled:!0,rowAlternationEnabled:!0,loadPanel:{enabled:!0},columns:[{width:"25%",allowSorting:!1,allowHeaderFiltering:!1,dataField:"messageDate",caption:"Время",dataType:"date",format:"dd.MM HH:mm",headerCellTemplate:function(n,t){setHeader(n,t)}},{width:"25%",alignment:"right",allowSorting:!1,allowHeaderFiltering:!1,dataField:"amount",caption:"Наличными",format:{type:"fixedPoint",precision:2},headerCellTemplate:function(n,t){setHeader(n,t)}},{width:"25%",alignment:"right",allowSorting:!1,allowHeaderFiltering:!1,dataField:"amountBill",caption:"Купюрами",format:{type:"fixedPoint",precision:2},headerCellTemplate:function(n,t){setHeader(n,t)}},{width:"25%",alignment:"right",allowSorting:!1,allowHeaderFiltering:!1,dataField:"amountCoin",caption:"Монетами",format:{type:"fixedPoint",precision:2},headerCellTemplate:function(n,t){setHeader(n,t)}}],summary:{totalItems:[{column:"messageDate",summaryType:"count",customizeText:function(n){return`Записей: ${n.value}`}},{column:"amount",summaryType:"sum",displayFormat:"{0}",valueFormat:{type:"fixedPoint",precision:2}},{column:"amountBill",summaryType:"sum",displayFormat:"{0}",valueFormat:{type:"fixedPoint",precision:2}},{column:"amountCoin",summaryType:"sum",displayFormat:"{0}",valueFormat:{type:"fixedPoint",precision:2}}]}});const t=$("#dateRangePicker").data("daterangepicker").startDate,i=$("#dateRangePicker").data("daterangepicker").endDate;getEncashByPeriod(t,i)}function getEncashByPeriod(n,t){$.getJSON(`/api/encash?deviceId=${device.id}&from=${n.format("YYYY-MM-DD")}&to=${t.format("YYYY-MM-DD")}`,null).then(function(n){$("#gridAlerts").dxDataGrid("instance").option("dataSource",n)})}function popupAlerts(){const n=document.getElementById("popupTitle");n.innerHTML='<i class="fa fa-exclamation-triangle text-warning"><\/i>&nbsp;&nbsp;Аварии за период';$("#alertsPopup").modal("toggle");$("#gridAlerts").dxDataGrid({scrolling:{mode:"infinite"},showRowLines:!0,keyExpr:"messageDate",columnAutoWidth:!1,columnFixing:{enabled:!1},cellHintEnabled:!0,showBorders:!0,wordWrapEnabled:!1,selection:{mode:"none"},height:function(){return window.innerHeight/1.8},hoverStateEnabled:!0,rowAlternationEnabled:!0,loadPanel:{enabled:!0},onCellPrepared:function(n){var t;const i=n.column;if(n.rowType==="data"&&i.dataField==="codeType"){const i=n.data;switch(i.codeType){case-1:case-2:t='<i class="fa fa-exclamation-triangle text-danger"><\/i>';break;case 0:t='<i class="fa fa-exclamation-triangle text-warning"><\/i>';break;default:t='<i class="fa fa-check text-success"><\/i>'}n.cellElement.html(t)}},columns:[{width:"10%",alignment:"center",allowSorting:!1,allowHeaderFiltering:!1,dataField:"codeType",caption:"",headerCellTemplate:function(n,t){setHeader(n,t)}},{width:"30%",allowSorting:!1,allowHeaderFiltering:!1,dataField:"messageDate",caption:"Время",dataType:"date",format:"dd.MM HH:mm",headerCellTemplate:function(n,t){setHeader(n,t)}},{allowSorting:!1,allowHeaderFiltering:!1,dataField:"message",caption:"Событие",headerCellTemplate:function(n,t){setHeader(n,t)},cellTemplate:function(n,t){if(t.data)switch(t.data.codeType){case-1:case-2:n.append("<div>"+t.data.message+"<\/div>").addClass("text-danger");break;case 0:n.append("<div>"+t.data.message+"<\/div>").addClass("text-warning");break;default:n.append("<div>"+t.data.message+"<\/div>").addClass("text-success")}}}]});const t=$("#dateRangePicker").data("daterangepicker").startDate,i=$("#dateRangePicker").data("daterangepicker").endDate;getAlertsByPeriod(t,i)}function getAlertsByPeriod(n,t){$.getJSON(`/api/alerts?deviceId=${device.id}&from=${n.format("YYYY-MM-DD")}&to=${t.format("YYYY-MM-DD")}`,null).then(function(n){$("#gridAlerts").dxDataGrid("instance").option("dataSource",n)})}function setHeader(n,t){$('<b style="color: black">').html(t.column.caption).css({"font-size":"14px","text-align":"center !important","vertical-align":"middle !important",padding:"0 !important"}).appendTo(n)}function openDownloadFileDialog(){var n=new window.ExcelJS.Workbook,t;const i=n.addWorksheet("Main sheet"),r=document.getElementById("popupTitle");t=$.trim(r.innerText);DevExpress.excelExporter.exportDataGrid({worksheet:i,component:$("#gridAlerts").dxDataGrid("instance"),customizeCell:function(n){const t=n;t.font={name:"Arial",size:12};t.alignment={horizontal:"left"}}}).then(function(){n.xlsx.writeBuffer().then(function(n){saveAs(new Blob([n],{type:"application/octet-stream"}),`${t}_${device.imei}.xlsx`)})})}function addDevice(n,t){var r=!1;if(document.getElementById("errors").style.display="none",n){r=!0;document.getElementById("headerAddDevice").innerHTML='<i class="fa fa-list-ul text-secondary"><\/i>&nbsp;&nbsp;Профиль автомата';const t=document.getElementById("btnAddDevice");t.className="btn btn-primary fa fa-save";t.innerText=" Сохранить";document.getElementById("popupDevId").value=n.id}else{document.getElementById("headerAddDevice").innerHTML='<i class="fa fa-list-ul text-secondary"><\/i>&nbsp;&nbsp;Добавить (зарегистрировать) автомат';const n=document.getElementById("btnAddDevice");n.className="btn btn-primary fa fa-plus-square";n.innerText=" Добавить";document.getElementById("popupDevId").value=null}const i=$("#deviceForm").dxForm({readOnly:!1,showColonAfterLabel:!0,labelLocation:"top",items:[{dataField:"imei",editorType:"dxNumberBox",label:{text:"ID автомата",visible:!0},editorOptions:{placeholder:"Введите ID автомата (15 цифр)",mode:"number",value:null},validationRules:[{type:"required",message:"Введите ID автомата (15 цифр)"},{type:"stringLength",min:15,message:"ID автомата должен быть не менее 15 цифр"},{type:"stringLength",max:17,message:"ID автомата не должен быть длиннее 17 цифр"},{type:"async",message:"ID автомата уже зарегистрирован.",validationCallback:function(n){if(r){var t=$.Deferred();return setTimeout(function(){t.resolve(!0)},1),t.promise()}return checkImei(n.value)}}]},{dataField:"address",label:{text:"Адрес",visible:!0},editorOptions:{placeholder:"Адрес автомата",value:null},validationRules:[{type:"required",message:"Нужно ввести адрес"}]},{dataField:"phone",editorType:"dxTextBox",label:{text:"Телефон",visible:!0},editorOptions:{placeholder:"Введите номер телефона",value:null},validationRules:[{type:"pattern",pattern:"^\\d+$",message:"Телефон должен состоять только из цифр"}]},{dataField:"timeZone",editorType:"dxSelectBox",label:{text:"Часовой пояс",visible:!0},editorOptions:{dataSource:timeZones,valueExpr:"value",displayExpr:"name",value:2}},{dataField:"currency",editorType:"dxSelectBox",label:{text:"Валюта",visible:!0},editorOptions:{dataSource:currencies,valueExpr:"value",displayExpr:"name",value:"RUB"}}]}).dxForm("instance");if(r){let r=i.getEditor("imei");r.option("value",Number(n.imei));r=i.getEditor("address");r.option("value",n.address?n.address:null);r=i.getEditor("phone");r.option("value",n.phone);r=i.getEditor("timeZone");r.option("value",n.timeZone);r=i.getEditor("currency");r.option("value",n.currency);getInfos(n.id,t)}}function postDevice(){const t=new $.Deferred;document.getElementById("errors").style.display="none";const f=$("#deviceForm").dxForm("instance").validate();f.isValid===!1&&t.reject(!1);const n=$("#deviceForm").dxForm("instance").option("formData");n.imei=`${n.imei}`;n.phone=`${n.phone}`;const r={imei:`${n.imei}`,address:n.address,phone:n.phone,timeZone:n.timeZone,currency:n.currency,ownerId:null},u=document.getElementById("popupDevId").value;var i;return u?(i=$.putJSON(`/api/device/${u}`,r,null),device.address=n.address,device.phone=n.phone,device.timeZone=n.timeZone,device.currency=n.currency):i=$.postJSON("/api/device",r,null),i.then(function(){$("#popupDevice").modal("hide");t.resolve(!0)},function(n){if(n.readyState===4&&n.status===200)$("#popupDevice").modal("hide"),t.resolve(!0);else{const i=n.responseText?n.responseText:`Error${n.status}`;document.getElementById("errors").innerHTML=i;document.getElementById("errors").style.display="block";t.reject(!1)}}),t.promise()}function devSettings(n){var i=!0;const t=$("#deviceSettingsForm").dxForm({readOnly:!1,showColonAfterLabel:!0,labelLocation:"left",visible:!1,items:[{dataField:"pulsesPerLitre",editorType:"dxNumberBox",label:{text:"Количество импульсов на литр",visible:!0},editorOptions:{mode:"number",value:null,format:"####",min:0,max:9999,onValueChanged:function(n){n.previousValue&&n.value>=0&&n.value<=9999&&postSettings("pulsesPerLitre",n.value)}}},{dataField:"pricePerLitre",editorType:"dxNumberBox",label:{text:"Цена за литр",visible:!0},editorOptions:{mode:"number",value:null,format:"#####0.0##",min:0,max:1e5,onValueChanged:function(n){n.previousValue&&n.value>=0&&n.value<=1e5&&postSettings("pricePerLitre",n.value)}}},{dataField:"priceCard",editorType:"dxNumberBox",label:{text:"Цена по карте",visible:!0},editorOptions:{mode:"number",value:null,format:"#####0.0##",min:0,max:1e5,onValueChanged:function(n){n.previousValue&&n.value>=0&&n.value<=1e5&&postSettings("priceCard",n.value)}}},{dataField:"pulseValueCoin",editorType:"dxNumberBox",label:{text:"Цена импульса монетоприемника",visible:!0},editorOptions:{mode:"number",value:null,format:"###.0##",min:0,max:100,onValueChanged:function(n){n.previousValue&&n.value>=0&&n.value<=100&&postSettings("pulseValueCoin",n.value)}}},{dataField:"pulseValueBill",editorType:"dxNumberBox",label:{text:"Цена импульса купюроприемника",visible:!0},editorOptions:{mode:"number",value:null,format:"####.0##",min:0,max:1e3,onValueChanged:function(n){n.previousValue&&n.value>=0&&n.value<=1e3&&postSettings("pulseValueBill",n.value)}}},{dataField:"therm",editorType:"dxNumberBox",label:{text:"Заданная температура",visible:!0},editorOptions:{mode:"number",value:null,format:"###.0##",min:-10,max:30,onValueChanged:function(n){n.previousValue&&n.value>=-10&&n.value<=30&&postSettings("therm",n.value)}}},{dataField:"logo",editorType:"dxSelectBox",label:{text:"Приветственное сообщение",visible:!0},editorOptions:{dataSource:[{value:0,name:"Третий кран"},{value:1,name:"Добро пожаловать"},{value:2,name:"Продажа воды"}],valueExpr:"value",displayExpr:"name",value:null,onValueChanged:function(n){n.previousValue!=null&&postSettings("logo",n.value)}}},{dataField:"date",editorType:"dxDateBox",label:{text:"Дата смены фильтров",visible:!0},editorOptions:{displayFormat:"dd.MM.yyyy",type:"date",applyValueMode:"useButtons",value:null,min:new Date(2e3,1,1),onValueChanged:function(n){n.previousValue!=null&&postSettings("date",n.value)}}},{dataField:"phone",editorType:"dxTextBox",label:{text:"Телефон сервисной поддержки",visible:!0},editorOptions:{value:null,onValueChanged:function(n){n.previousValue!=null&&(!n.value||$.isNumeric(n.value))&&postSettings("phone",n.value)}},validationRules:[{type:"pattern",pattern:"^\\d+$",message:"Телефон должен состоять только из цифр"}]},{dataField:"maintain",editorType:"dxSwitch",label:{text:"Режим обслуживания",visible:!0},editorOptions:{switchedOffText:"Выключен",switchedOnText:"Включен",height:50,width:100,elementAttr:{"class":"dx-field-item-label"},value:null,onValueChanged:function(n){if(i){i=!1;return}const t=n.value?1:0;postSettings("maintain",t)}}}]}).dxForm("instance");$.getJSON("/api/device/settings/"+n.id,null).then(function(n){if(n){t.option("visible",!0);let r=t.getEditor("pulsesPerLitre");r.option("value",Number(n.pulsesPerLitre));r=t.getEditor("pricePerLitre");r.option("value",Number(n.pricePerLitre));r=t.getEditor("priceCard");r.option("value",Number(n.priceCard));r=t.getEditor("pulseValueCoin");r.option("value",Number(n.pulseValueCoin));r=t.getEditor("pulseValueBill");r.option("value",Number(n.pulseValueBill));r=t.getEditor("therm");r.option("value",Number(n.therm));r=t.getEditor("logo");r.option("value",Number(n.logo));r=t.getEditor("date");const f=new Date(n.date*1e3);r.option("value",Number(f));r=t.getEditor("phone");r.option("value",n.phone);r=t.getEditor("maintain");const u=n.maintain===0?!1:!0;u||(i=!1);r.option("value",u)}else t.option("visible",!1)})}function postSettings(n,t){const i={name:n,value:t};$.putJSON(`/api/device/settings/${device.imei}`,i,null).then(function(){return})}function getInfos(n,t){$.getJSON(`/api/device/info/${n}`,null).then(function(n){if(n!=null&&n.count!==0){var i=[];if(device.lastCleanerStatus){const n=device.lastCleanerStatus.tds.toFixed(0);let t="badge-success";n>50&&(t="badge-warning");(n<0||n>100)&&(t="badge-danger");i.push(`<info-badge><span class="badge mr-1 mb-1 ${t}"> <i class="fa pr-1 fa-tint"></i> ${n}<br> <small>TDS, ppm</small> </span> </info-badge>`)}if(device.lastStatus&&device.lastStatus.temperature){const n=device.lastStatus.temperature;let t="badge-success";(n<5||n>40)&&(t="badge-warning");(n<0||n>50)&&(t="badge-danger");i.push(`<info-badge><span class="badge mr-1 mb-1 ${t}"> <i class="fa pr-1 fa-thermometer"></i> ${n}<br> <small>Температура, &deg;C</small> </span> </info-badge>`)}n.forEach(function(n){const f=n.name,t=n.value;var u="",r="badge-success";switch(f){case"signalStrength":t<15&&(r="badge-danger");t<20&&(r="badge-warning");u=`<info-badge><span class="badge mr-1 mb-1 ${r}"> <i class="fa pr-1 fa-wifi"></i> ${t}<br> <small>Cигнал</small> </span> </info-badge>`;break;case"simBalance":t<20&&(r="badge-danger");u=`<info-badge><span class="badge mr-1 mb-1 ${r}"> <i class="fa pr-1 fa-wifi"></i> ${t}<br> <small>Баланс SIM</small> </span> </info-badge>`;break;case"energyT1":t<0&&(r="badge-danger");u=`<info-badge><span class="badge mr-1 mb-1 ${r}"> <i class="fa pr-1 fa-plug"></i> ${t}<br> <small>Тариф 1, КВт&middot;ч</small> </span> </info-badge>`;break;case"energyT2":t<0&&(r="badge-danger");u=`<info-badge><span class="badge mr-1 mb-1 ${r}"> <i class="fa pr-1 fa-plug"></i> ${t}<br> <small>Тариф 2, КВт&middot;ч</small> </span> </info-badge>`;break;case"waterInput":t<0&&(r="badge-danger");u=`<info-badge><span class="badge mr-1 mb-1 ${r}"> <i class="fa pr-1 fa-tint"></i> ${t}<br> <small>Водомер, м&sup3;</small> </span> </info-badge>`;break;case"tds":t>50&&(r="badge-warning");(t<0||t>100)&&(r="badge-danger");u=`<info-badge><span class="badge mr-1 mb-1 ${r}"> <i class="fa pr-1 fa-tint"></i> ${t}<br> <small>TDS, ppm</small> </span> </info-badge>`;break;case"temperature":(t<5||t>40)&&(r="badge-warning");(t<0||t>50)&&(r="badge-danger");u=`<info-badge><span class="badge mr-1 mb-1 ${r}"> <i class="fa pr-1 fa-thermometer"></i> ${t}<br> <small>Температура, &deg;C</small> </span> </info-badge>`}i.push(u)});const r=document.getElementById(t);r.innerHTML=i.join("")}})}function userLogCreate(){$.getJSON("/api/log/getLog",null).then(function(n){$("#userLogTable").dxDataGrid({dataSource:n,showColumnLines:!0,showRowLines:!0,keyExpr:"id",columnAutoWidth:!0,columnFixing:{enabled:!1},cellHintEnabled:!0,paging:{pageSize:10},pager:{showInfo:!0,infoText:"Страница {0} из {1} ({2} действий)"},showBorders:!0,wordWrapEnabled:!1,selection:{mode:"none"},hoverStateEnabled:!0,loadPanel:{enabled:!1},searchPanel:{visible:!0,highlightCaseSensitive:!0,placeholder:"Начните вводить email, моб. телефон или IMEI...",width:"100%"},columns:[{dataField:"email",visible:!1},{dataField:"phone",visible:!1},{dataField:"imei",visible:!1},{width:130,dataField:"logDate",allowSorting:!1,caption:"Дата",dataType:"date",format:"dd.MM.yyyy HH:mm",headerCellTemplate:function(n,t){setHeader(n,t)}},{allowSorting:!1,dataField:"message",caption:"Действие",dataType:"string",headerCellTemplate:function(n,t){setHeader(n,t)}}]})})}var timeZones=[{value:2,name:"UTC+02:00 Калининград"},{value:3,name:"UTC+03:00 Москва"},{value:4,name:"UTC+04:00 Самара"},{value:5,name:"UTC+05:00 Екатеринбург"},{value:6,name:"UTC+06:00 Омск"},{value:7,name:"UTC+07:00 Красноярск"},{value:8,name:"UTC+08:00 Иркутск"},{value:9,name:"UTC+09:00 Якутск"},{value:10,name:"UTC+10:00 Владивосток"},{value:11,name:"UTC+11:00 Магадан"},{value:12,name:"UTC+12:00 Камчатский край"}],currencies=[{value:"RUB",name:"Российский рубль"},{value:"KZT",name:"Казахстанский тенге"},{value:"AZN",name:"Азербайджанский манат"},{value:"UZS",name:"Узбекский сум"},{value:"BYR",name:"Белорусский рубль"}],checkImei=function(n){const t=$.get(`/api/validation/imei/${n}`);return t.promise()};